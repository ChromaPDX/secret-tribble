<!DOCTYPE html>
<html ng-app="chromaApp">
    <head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- All lines containing #HOOVER# will be removed by the rake task -->
	
	<link rel="stylesheet" href="/css/normalize.css" type="text/css"> <!-- #HOOVER# -->
	<link rel="stylesheet" href="/css/foundation-5.4.7.css" type="text/css"> <!-- #HOOVER# -->
	<link rel="stylesheet" href="/css/app.css" type="text/css"> <!-- #HOOVER# -->
	
	<script src="/js/modernizr.js"></script> <!-- #HOOVER# -->
	<script src="/js/angular-1.3.5.js"></script> <!-- #HOOVER# -->
	<script src="/js/mm-foundation-tpls-0.5.1.js"></script> <!-- #HOOVER# -->

	<!-- Alright, into our custom app goodies! -->
	<script src="/js/app.js"></script> <!-- #HOOVER# -->

	<!-- #HEADER# ... this is where the condensed head JS and CSS will be put.  -->
    </head>
    <body>
	<div id="layout" class="row">
	    <div id="sidebar" class="small-3 column">
		<ul class="side-nav">
		    <li><a ng-click="nav(dashboard)">Home</a></li>
		    <li><a ng-click="nav(projects)">Projects</a></li>
		    <li><a ng-click="nav(wallets)">Wallets</a></li>
		    <li><a ng-click="logout()">Logout</a></li>
		</ul>
	    </div>
	    <div class="small-9 column">
		<div id="dashboard" class="row" ng-show="showDashboard">
		    <div class="small-12">
			<h3>Recent Activity</h3>
			<ul>
			    <li>You received a payment of xxxx for Project 1</li>
			    <li>You've been added to Project 2!</li>
			    <li>You invited foo@bar.com to join Project 1</li>
			</ul>
		    </div>
		</div> <!-- #dashboard -->
		
		<div id="projects" ng-show="showProjects">

		    <div id="projectSelector" class="row">
			<div class="small-3 column">Select Project</div>
			<div class="small-9 column">
			    <select>
				<option>Project 1</option>
				<option>Project 2</option>
			    </select>
			</div>
		    </div>

		    <div id="projectContent" class="row">
			<div class="small-12">
			    <h3>Project Name</h3>
			    <p>Project description</p>
			    <table>
				<tr>
				    <th>Date</th>
				    <th>Amount</th>
				    <th>Total</th>
				    <th>Attachment</th>
				</tr>
				<tr>
				    <td>August 24, 2014</td>
				    <td>8.382 BTC</td>
				    <td><b>31.8748 BTC</b></td>
				    <td>Download</td>
				</tr>
				<tr>
				    <td>April 14, 2014</td>
				    <td>23.4928 BTC</td>
				    <td>23.4928 BTC</td>
				    <td>Download</td>
				</tr>
			    </table>
			    
			    <h3>Participants</h3>
			    <table>
				<tr>
				    <th>Name</th>
				    <th>Stake</th>
				    <th>Royalties</th>
				</tr>
				<tr>
				    <td><a href="mailto:peat@chroma.io">Peat Bakke</a></td>
				    <td>45%</td>
				    <td>14.34366 BTC</td>
				</tr>
				<tr>
				    <td><a href="mailto:marcus@chroma.io">Marcus Estes</a></td>
				    <td>30%</td>
				    <td>9.56244 BTC</td>
				</tr>
				<tr>
				    <td><a href="mailto:mike@chroma.io">Mike Merrill</a></td>
				    <td>25%</td>
				    <td>7.9687 BTC</td>
				</tr>
			    </table>
			    
			</div>
		    </div>
		</div> <!-- #projects -->

		<div id="wallets" class="row" ng-show="showWallets">
		    <h2>Recent Transactions</h2>
		    <table>
			<tr>
			    <th>Date</th>
			    <th>Project</th>
			    <th>Amount</th>
			</tr>
			<tr>
			    <td>Oct 4, 2014</td>
			    <td><i>Withdrawal</i></td>
			    <td>(5.0 BTC)</td>
			<tr>
			    <td>Aug 24, 2014</td>
			    <td>Project 1</td>
			    <td>3.7719 BTC</td>
			</tr>
			<tr>
			    <td>Apr 14, 2014</td>
			    <td>Project 1</td>
			    <td>10.57176 BTC</td>
			</tr>
		    </table>

		    <h2>My Accounts</h2>
		    <table>
			<tr>
			    <th>Type</th>
			    <th>Account</th>
			    <th>Balance</th>
			    <th></th>
			</tr>
			<tr>
			    <td>Bitcoin</td>
			    <td>1B...03az</td>
			    <td>9.34366 BTC</td>
			    <td>Report &raquo;</td>
			</tr>
			<tr>
			    <td>Wire</td>
			    <td>xxxxxxxx4829</td>
			    <td>$23.19</td>
			    <td>Report &raquo;</td>
			</tr>
		    </table>
		</div> <!-- #wallets -->
	    </div>
	    
	</div>
	

	<div class="row">
	    <div id="authentication" ng-controller="AuthenticationController">
		<h3>Authentication</h3>
		<div id="login" ng-hide="token()">
		    <p>
			To login, use <code>FIRST_NAME@test.com</code> (eg: <i>mike@test.com</i>) as your e-mail address, and <code>password</code> as your password.
		    </p>
		    <form>
			<label for="username">E-Mail</label>
			<input type="text" ng-model="user.username">
			<br>
			<label for="password">Password</label>
			<input type="password" ng-model="user.password">
			<br>
			<button ng-click="login(user)">Login</button>
		    </form>
		</div>
		<div id="logout" ng-show="token()">
		    <button ng-click="logout()">Logout</button>
		</div>
	    </div>

	    <div id="wallets" ng-controller="WalletController" ng-show="token()">
		<h3>Your Wallets</h3>
		<ul>
		    <li ng-repeat="w in wallets"><a href ng-click="loadWallet(w.wallet_id)">{{ w.currency }} - {{ w.identifier }}</a></li>
		</ul>
		<div ng-show="wallet">
		    <img ng-src="https://blockchain.info/qr?data={{ wallet.identifier }}&size=200">
		    {{ wallet | json }}
		</div>
		<div ng-show="ledger.length">
		    <h3>Wallet Income ({{ wallet_revenue / 100000000 }}) {{ wallet.currency }}</h3>
		    <ul>
			<li ng-repeat="l in ledger">{{ l.amount / 100000000 }} {{ wallet.currency }} on {{ l.created_at }}</li>
		    </ul>
		</div>
	    </div>

	    <div id="project" ng-controller="ProjectController" ng-show="token()">
		<h3>Your Projects</h3>
		<ul>
		    <li ng-repeat="p in projects"><a href ng-click="loadProject(p.project_id)">{{ p.name }}</a></li>
		    <li>
			<form>
			    <label for="project_id">Project ID</label>
			    <input type="text" ng-model="form.project_id">
			    <button ng-click="loadProject(form.project_id)">Load</button>
			</form>
		    </li>
		</ul>

		<div ng-show="project">
		    {{ project | json }}
		</div>
		
		<div ng-show="users.length">
		    <h3>Backers</h3>
		    <ul>
			<li ng-repeat="user in users">{{ user.name }} - {{ (pool.splits[user.user_id] * 100) | number:0 }}%</li>
		    </ul>
		</div>

		<div ng-show="project_wallet">
		    <h3>Project Wallet</h3>
		    {{ project_wallet | json }}
		</div>

		<div ng-show="project_ledger.length">
		    <h3>Project Revenue ({{ project_revenue / 100000000 }}) {{ project_wallet.currency }}</h3>
		    <ul>
			<li ng-repeat="l in project_ledger">{{ l.amount / 100000000 }} {{ project_wallet.currency }} on {{ l.created_at }}</li>
		    </ul>
		</div>
		
		<div ng-show="pool">
		    <h3>Pool</h3>
		    {{ pool | json }}
		</div>

	    </div>
	</div>

	<!-- #FOOTER# -->
    </body>
</html>
