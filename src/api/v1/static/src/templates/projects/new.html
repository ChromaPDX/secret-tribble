<h1>New Project</h1>

<div class="row">
  <div class="large-12 columns">
    <h3>Contributors</h3>

    <table>
      <thead>
        <tr>
          <th width="200">Email</th>
          <th width="200">Percent</th>
          <th width="300"></th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="split in splits track by $index">
          <td>{{split.email}}</td>
          <td>{{split.percent}}%</td>
          <td>
            <a ng-click="editSplit($index)" class="button tiny">Edit</a>
            <a ng-click="removeSplit($index)" class="button tiny">Delete</a>
          </td>
        </tr>
        <tr>
          <form name="splitForm">
            <td>
              <input type="email" ng-model="split.email" name="email" ng-class="{error: splitForm.email.$invalid}" required/>
              <div ng-show="splitForm.$submitted || splitForm.email.$touched">
                <small class="error" ng-show="splitForm.email.$error.required">input email address</small>
                <small class="error" ng-show="splitForm.email.$error.email">invalid email</small>
              </div>
            </td>
            <td>
              <input type="range" min="0" max="100" step="1" ng-model="split.percent" name="percent" ng-class="{error: $splitForm.percent.$invalid}" required/>
              {{ split.percent }}%
              <div ng-show="splitForm.$submitted || splitForm.password.$touched">
                <small class="error" ng-show="splitForm.percent.$error.required">input percent</small>
              </div>
            </td>
            <td>
              <button class="tiny" ng-disabled="splitForm.$invalid" ng-click="addSplit()" ng-hide="isEditing()">Add</button>
              <input type="button" value="Update" class="button tiny" ng-disabled="splitForm.$invalid" ng-click="updateSplit()" ng-show="isEditing()"/>
              <input type="button" value="Cancel" class="button tiny" ng-click="cancelEditing()" ng-show="isEditing()"/>
            </td>
          </form>
        </tr>
      </tbody>
    </table>

    <a ng-click="createPool()" class="button radius">Create Pool</a>
  </div>
</div>

<hr>

<form name="projectForm">
  <div class="row">
    <div class="large-12 columns">
      <label ng-class="{error: projectForm.name.$invalid}"> Project Name
        <input type="text" placeholder="Project Name" name="name" ng-model="project.name" required/>
      </label>
      <div ng-show="projectForm.$submitted || projectForm.password.$touched">
        <small class="error" ng-show="projectForm.name.$error.required">input project name</small>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="large-12 columns">
      <label ng-class="{error: projectForm.description.$invalid}"> Description
        <textarea type="text" placeholder="Description" name="description" ng-model="project.description" rows="5" required></textarea>
      </label>
      <div ng-show="projectForm.$submitted || projectForm.description.$touched">
        <small class="error" ng-show="projectForm.description.$error.required">input project description</small>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="large-12 columns">
      <button ng-click="createProject()" class="radius" ng-disabled="projectForm.$invalid">Create Project</button>
    </div>
  </div>
</form>
